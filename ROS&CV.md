# Что такое ROS?
ROS - Robot Operating System - Операционная система роботов - это набор модулей, инструментов и библиотек для создания роботов. ROS можно использовать для всего, от драйверов моторов, до высокоуровневых интерфейсов и симуляций. Обмен информации между модулями ROS осуществляется при помощи “топиков” и специальных сообщений. [1.1]
На данный момент в ROS входит более 2000 различных модулей разработанных более чем 600 людьми, поддерживается 80 коммерческих проектов и написано около 1850 научных статей упоминающих ROS. [1.1]

## Общая структура:
Набор драйверов, который помогает собирать данные с датчиков и выполнять низкоуровневые команды в удобном формате.
Набор инструментов помогающих строить карты и схемы мира на основе полученной с датчиков информации, ориентироваться в пространстве и взаимодействовать с объектами.
Полная инфраструктура для перемещения данных от модуля к модулю и их взаимодействия.
Блоки для визуализации состояния работа и отладки.
И наконец общая экосистема ROS, включающая в себя документацию, сайт вопрос-ответ и сообщество юзеров и разработчиков. 
[1.4]

На данный момент ROS делится на две части - ROS1 и ROS2

ROS1  с последними версиями в лице ROS melodic и ROS noetic (отличия не существенны)
ROS2 - просто новая версия ROS, находящаяся в разработке, но с дополнительным функционалом и сменой основного языка разработки с C++ на Python (по данным GitHub странички проекта)


[1.1]
## История создания ROS
В середине 2000-х годов в Стэнфордском университете были предприняты различные усилия, связанные с использованием ИИ в робототехнике, например, программа STanford AI Robot (STAIR) и программа Personal Robots (PR) для создания собственных прототипов динамических программных систем, предназначенных для использования в робототехнике. В 2007 году Willow Garage предоставил значительные ресурсы для дальнейшего расширения этих концепций и создания прототипов. Усилия были поддержаны бесчисленными исследователями, которые поделились своим временем и опытом как для вклада в основные идеи ROS, так и в основные пакеты программного обеспечения. Все программное обеспечение разрабатывалось с использованием лицензии BSD с открытым исходным кодом и постепенно стало широко используемой платформой в сообществе исследователей робототехники.

С самого начала ROS разрабатывался в нескольких учреждениях и для нескольких роботов, в том числе во многих учреждениях, которые получили роботов PR2 от Willow Garage. Хотя для всех участников было бы гораздо проще разместить свой код на одних и тех же серверах, со временем «федеративная» модель стала одной из сильных сторон экосистемы ROS. Любая группа может запустить свое собственное хранилище кода ROS на своих собственных серверах, и они полностью владеют им и контролируют его. Им не нужно чье-либо разрешение. Если они решат сделать свой репозиторий общедоступным, они могут получить признание сообщества, которого они заслуживают за свои достижения, и получить выгоду от тестеров и предложений по улучшению, как и все проекты с открытым исходным кодом.

За последние несколько лет ROS вырос и теперь включает в себя большое сообщество пользователей по всему миру. Исторически сложилось так, что большинство пользователей были в исследовательских лабораториях, но все чаще они появляются в коммерческом секторе, особенно в промышленной и сервисной робототехнике.

Сообщество ROS очень активно и насчитывает более 3000 участников в списке discourse.ros.org, более 8000 пользователей на вики-странице совместной документации и около 22500 пользователей на сайте ответов на вопросы по ROS. В Википедии содержится более 22 000 страниц, а темп правок — около 30 в день.

На данный момент количество русскоязычных пользователей ROS находится на 15 месте среди других стран согласно ROS Metrics Report 2018. [2]


Сферы применения ROS и примеры проектов

Сфера применения Robot Operating System действительно огромна. С её помощью можно построить все: от простого двухколесного робота для ребенка, до сложной многоступенчатой системы производства или ракетного комплекса. [3.1], [3.2], [3.3]

Примеров проектов достаточно много, вот самые яркие из них:
COEX Clover - российский конструктор квадрокоптера для обучения детей
Робот Собака VoltBro (аналог Spot от + Boston Dynamics)
Робо Ресторан
Квадрокоптеры для доставки
Copter 4 Space - российский беспилотник на базе COEX Clover для приема и декодирования сигнала с метеорологических спутников


Что такое CV?
Компьютерное зрение (Computer vision) — это междисциплинарная научная область, целью которой является создание и изучение компьютерных систем, обладающих общим высокоуровневым представлением о цифровых изображениях или видео. С практической точки зрения компьютерное зрение стремится понять и автоматизировать задачи, которые может выполнять зрительная система человека.

В 1989 году Ян ЛеКун использовал метод обратного распространения ошибки в сверточной нейронной сети (CNN). Эта сеть состояла из нескольких слоев с искусственными нейронами. Каждый слой ответственен за свои локальные представления. С увеличением глубины слоев, локальные представления нейронной сети становятся более абстрактными и специфичными, что помогает изучить детали отдельного класса. Также сверточная нейронная сеть обладает свойством инвариантности, т.е. не запоминает местоположение объектов на изображении. Однако на тот момент времени из-за нехватки данных и компьютерных ресурсов CNN не показали высокой точности.

В 2012 году исследователи из Торонто разработали AlexNet, сверточную нейронную сеть, которая обогнала все другие модели компьютерного зрения в соревнованиях от ImageNet. Победа AlexNet дала понять — пришло время вернуться к CNN. С учетом доступности данных и вычислительных ресурсов данное событие возродило интерес к CNN и вызвало революцию в глубоком обучении. [4]


Сферы применения CV
Основные сферы применения машинного зрения - распознавание объектов. На сегодняшний день наиболее распространено в сферах безопасности и автоматизации.

Примеры:
- Распознавание лиц на улице для поиска злоумышленников
- Face ID
- Системы позиционирования в пространстве
- Автопилоты (яркий пример - Тесла)


# OpenCV
OpenCV - крупнейшая открытая библиотека для работы с компьютерным зрением и машинным обучением. В библиотеку входит более 2500 алгоритмов включающих в себя как стандартных state-of-the-art программ, так и машинное обучение. Основные языки взаимодействия - Python, C++, Matlab, Lua, Ruby. [5.1]

С 2000 по 2008 год OpenCV разрабатывалась и поддерживалась в основном Intel, и Нижегородское отделение корпорации с самого начала играло ведущую роль в формировании облика библиотеки. В первые годы существования OpenCV стремительно расширялась, обрастая базовой функциональностью, такой как основные структуры данных, алгоритмы обработки изображений (image processing), базовые алгоритмы компьютерного зрения, ввод и вывод изображений и видео. Однако, в 2004 году Intel практически прекратил поддержку библиотеки. Многие участники проекта, которые к тому времени уже сложились как эксперты в области компьютерного зрения, не захотели переквалифицироваться, и покинули компанию. Фактически, именно так возник Itseez, деятельность которого в значительной степени базируется на опыте, полученном во время разработки OpenCV.

Второй мощный толчок к развитию проект получил с приходом компании Willow Garage, основной целью которой является создание персонального робота. OpenCV стала важной частью ROS (Robot Operating System), и на ее основе был создан ряд компонент для робота PR2, но об этом мы расскажем как-нибудь позже. Начало этого периода совпадает с переходом в Itseez из Intel Вадима Писаревского (aka OpenCV Tsar) в 2008 году. При поддержке Willow была сформирована команда, стартовавшая существенную переработку библиотеки. 

На сегодняшний день можно говорить уже о третьем значительном этапе в жизни библиотеки, наступившем с приходом NVidia. В 2010 году эта компания поддержала создание CUDA-оптимизированной версии библиотеки, что также было сделано инженерами компании Itseez. Первым публичным результатом стала реализация алгоритма стереосоответствия, способная в реальном времени производить обработку видео в FullHD-разрешении (1920х1080 пикселей). Начиная с 2011 года список задач расширился, и Itseez совместно с NVidia начал разработку версии библиотеки под Android, с оптимизациями для платформы NVidia Tegra. OpenCV4Android пережила уже несколько релизов, и приобрела свое собственное сообщество пользователей. Кроме того, OpenCV обогатилась Java API (пока только для Android), встроенной системой тестирования производительности и рядом улучшений. 
[5.2]
## Взаимодействие ROS и OpenCV
Как было упомянуто OpenCV интегрирована внутрь ROS и активно используется для роботов использующих камеру. Если быть точнее OpenCV используют для позиционирования в пространстве, сканирования местности и.т.д. [6.1]

Непосредственное общение между двумя системами происходит по так называемому “CV bridge” который позже конвертируется в стандартный для ROS - message [6.2]

Чаще всего связка ROS + OpenCV используется в беспилотных летательных аппаратах.
Примеры проектов использующих как ROS так и OpenCV:
- COEX Clover
- COEX Pelican
- Геоскан Пионер
- Voltbro обучающий конструктор “Brover E1”


# Вывод:
Несмотря на относительный возраст систем ROS и OpenCV, с каждым годом они не теряют в популярности, а наоборот растут. Эти системы уже встречаются довольно часто, так что вполне возможно, что спустя 5-7 лет ROS и OpenCV будут известны каждому и найдут применение во всех сферах. 















# Список использованной литературы:
### Основная информация о ROS:
1.1 https://www.ros.org/ \
1.2 https://github.com/ros \
1.3 https://docs.ros.org/en/rolling/The-ROS2-Project.html \
1.4 Programming robots with ROS - Morgan Quigley, Brian Gerkey & William D. Smart
### История развития ROS - 2. https://habr.com/ru/company/sberbank/blog/447350/
### Сферы применения ROS и примеры проектов
3.1 www.clover.coex.tech \
3.2 www.lorett.org \
3.3 www.shop.voltbro.ru
### Что такое CV? - 4. https://python-school.ru/wiki/computer-vision/
### OpenCV
5.1 www.opencv.org \
5.2 https://habr.com/ru/company/intel/blog/146434/
### Взаимодействие ROS и OpenCV
6.1 http://wiki.ros.org/vision_opencv
